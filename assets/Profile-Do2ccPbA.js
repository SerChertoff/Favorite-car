import{d as g,z as h,r as f,o as C,A,a as x,c as a,b as t,B as l,g as m,w as y,h as b,i as B,t as c,F as S,j as w,k as e,l as N,_ as V}from"./index-CixOLOK7.js";import{A as z}from"./AutoCard-CZpDjsbq.js";const E={class:"profile"},F={class:"container"},I={key:0,class:"not-authorized"},P={key:1,class:"profile-content"},j={class:"profile-card card"},D={class:"profile-info"},L={class:"info-item"},M={class:"value"},R={class:"info-item"},T={class:"value"},$={class:"info-item"},q={class:"value"},G={class:"my-cars card"},H={key:0,class:"loading"},J={key:1,class:"empty-state"},K={key:2,class:"cars-grid"},O=g({__name:"Profile",setup(Q){const k=A(),o=h(),r=f([]),d=f(!1);return C(async()=>{if(!o.isAuthenticated){k.push("/");return}d.value=!0;try{const i=await x.getCars();r.value=i.cars.filter(s=>{var n;return s.sellerId===((n=o.user)==null?void 0:n.id)})}catch(i){console.error("Ошибка при загрузке автомобилей:",i)}finally{d.value=!1}}),(i,s)=>{var p,_,v;const n=B("router-link");return e(),a("div",E,[t("div",F,[s[10]||(s[10]=t("h1",{class:"page-title"},"Личный кабинет",-1)),l(o).isAuthenticated?(e(),a("div",P,[t("div",j,[s[6]||(s[6]=t("h2",null,"Профиль пользователя",-1)),t("div",D,[t("div",L,[s[3]||(s[3]=t("span",{class:"label"},"Имя:",-1)),t("span",M,c(((p=l(o).user)==null?void 0:p.name)||"Не указано"),1)]),t("div",R,[s[4]||(s[4]=t("span",{class:"label"},"Email:",-1)),t("span",T,c(((_=l(o).user)==null?void 0:_.email)||"Не указано"),1)]),t("div",$,[s[5]||(s[5]=t("span",{class:"label"},"Телефон:",-1)),t("span",q,c(((v=l(o).user)==null?void 0:v.phone)||"Не указано"),1)])]),t("button",{onClick:s[0]||(s[0]=u=>l(o).logout()),class:"btn btn-outline"},"Выйти")]),t("div",G,[s[9]||(s[9]=t("h2",null,"Мои автомобили",-1)),d.value?(e(),a("div",H,"Загрузка...")):r.value.length===0?(e(),a("div",J,[s[8]||(s[8]=t("p",null,"У вас пока нет добавленных автомобилей",-1)),m(n,{to:"/add-car",class:"btn btn-primary"},{default:y(()=>[...s[7]||(s[7]=[b("Добавить автомобиль",-1)])]),_:1})])):(e(),a("div",K,[(e(!0),a(S,null,w(r.value,u=>(e(),N(z,{key:u.id,car:u},null,8,["car"]))),128))]))])])):(e(),a("div",I,[s[2]||(s[2]=t("p",null,"Необходимо войти в систему",-1)),m(n,{to:"/",class:"btn btn-primary"},{default:y(()=>[...s[1]||(s[1]=[b("На главную",-1)])]),_:1})]))])])}}}),X=V(O,[["__scopeId","data-v-c27beba7"]]);export{X as default};
